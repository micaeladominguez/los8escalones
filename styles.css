:root{
    --bg:#09070f;
    --purple:#6d29ff;
    --purple-2:#9d5bff;
    --magenta:#b900ff;
    --accent:#c0a94a; /* toque dorado tenue */
    --step:#1a1630;
    --step-active:#341f66;
    --text:#f2f2f7;
    --muted:#9aa0a6;
    --chip:#221b41;
    --chip-border:#6d29ff55;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--text);
    background: radial-gradient(1200px 600px at 50% 100%, #2b135c 0%, #150c2a 35%, var(--bg) 70%);
    display:flex; flex-direction:column; gap:16px;
}

/* ---------- HEADER (TV look) ---------- */
.header{
    display:flex; align-items:center; justify-content:center;
    padding:18px 20px;
    background:linear-gradient(180deg, #140e24, #0b0815);
    border-bottom:1px solid #201a33;
    text-shadow:0 2px 8px #000;
}
.logo{
    font-weight:900; letter-spacing:1.5px;
    color:#d7d3ff;
    filter: drop-shadow(0 0 12px #6d29ff55);
    font-size: clamp(18px, 2.2vw, 26px);
}
.logo .big{
    font-size: clamp(36px, 3vw, 48px);
    color:#cfd1ff;
    border:2px solid #d0d0ff33; padding:0 10px; margin:0 8px;
    display:inline-block; transform:skew(-6deg);
}

/* ---------- LAYOUT PRINCIPAL ---------- */
.container{
    width:100%; max-width: 1400px; /* más ancho, look TV */
    margin:0 auto; display:grid;
    grid-template-columns: 1.6fr 0.9fr; gap:20px; padding:0 20px 24px;
}

.panel{
    background: #120f1f;
    border:1px solid #241e39;
    border-radius:16px;
    padding:16px;
    box-shadow: 0 10px 30px #0008, inset 0 0 0 1px #000;
}
.panel h2{margin:0 0 10px; color:#dcd7ff; font-size: clamp(18px, 1.8vw, 22px);}
.panel .row{display:flex; gap:12px; align-items:center; margin-top:10px}
.error{color:#ff6b6b; font-size:14px}

textarea{
    width:100%;
    background:#0e0b18;
    border:1px solid #2a2242;
    color:var(--text);
    border-radius:10px;
    padding:10px;
    outline:none;
    font-size:16px;
}

.btn{
    background:linear-gradient(180deg, var(--purple-2), var(--purple));
    border:1px solid #bbaaff55;
    border-radius:10px;
    padding:10px 14px;
    color:white; font-weight:800; cursor:pointer;
    box-shadow:0 4px 18px #6d29ff55;
}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform:translateY(1px)}
.btn.secondary{
    background:linear-gradient(180deg, #2a2242, #1b1530);
    border:1px solid #4a3a7a;
    box-shadow:none;
}

.hidden{display:none}

/* ---------- ESCENARIO (sin cortes + scroll interno) ---------- */
.stage{
    position:relative;
    overflow:hidden; /* sin desbordes laterales */
    border-radius:18px; border:1px solid #241e39;
    background: radial-gradient(1000px 400px at 50% -200px, #2b135c 0%, #120c25 40%, #0a0713 80%);
    min-height: 560px;
    /* ocupa alto de pantalla menos header y paddings del layout */
    height: calc(100vh - 170px);
    display:flex;
    flex-direction:column;
}

.dots{
    position:absolute; inset:0;
    background:
        radial-gradient(#8e4dff 2px, transparent 3px) 0 0/28px 28px,
        radial-gradient(#4b2a8f 1px, transparent 3px) 14px 14px/28px 28px;
    opacity:.26; filter:blur(.2px); pointer-events:none;
}

/* ahora steps no es absoluto → se ve todo y hace scroll si no entra */
.steps{
    position:relative;
    flex: 1 1 auto;
    overflow-y: auto;
    display:flex; flex-direction:column-reverse;
    justify-content:flex-start; gap:10px; padding:20px;
    /* reserva espacio para que el escalón 1 no quede bajo el podio */
    padding-bottom: 180px;
    scrollbar-gutter: stable both-edges;
}

/* ---------- ESCALONES (grid para envolver nombres) ---------- */
.step{
    background:linear-gradient(180deg, var(--step), #0f0b1d);
    border:1px solid #2f2550;
    border-left:6px solid var(--purple);
    border-radius:14px;
    padding:12px 14px;

    /* 👇 clave: grid para que el área derecha pueda ocupar varias filas */
    display:grid;
    grid-template-columns: minmax(140px, auto) 1fr; /* título | personas */
    column-gap:14px;
    row-gap:8px;

    align-items:start;            /* el título no “empuja” hacia el centro */
    min-height:64px;
    box-shadow: inset 0 8px 20px #0006, 0 4px 16px #0009;
}
.step.active{
    background:linear-gradient(180deg, var(--step-active), #171134);
    border-left-color: var(--magenta);
    box-shadow: inset 0 10px 28px #0006, 0 0 28px #7b2dff66;
}


.step-title{
    font-weight:900; letter-spacing:.6px; color:#ddd9ff;
    font-size: clamp(16px, 1.6vw, 22px);
    align-self:center;
}

.step-people{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-items:center;
    justify-content:flex-start;
    min-width:0;     /* 👈 evita que desborde la columna derecha */
    max-width:100%;
}


.chip{
    background: linear-gradient(180deg, var(--chip), #16112f);
    border:1px solid var(--chip-border);
    padding:8px 12px; border-radius:999px; font-weight:800;
    display:flex; align-items:center; gap:8px;
    font-size: clamp(14px, 1.2vw, 16px);
    line-height:1.05;
    white-space:nowrap;
}
.chip small{
    color:var(--muted); font-weight:700;
}

/* ---------- PODIO (fijo, sin tapar) ---------- */
.podium{
    position:relative;
    left:50%; bottom:0; transform:translateX(-50%);
    width:72%; height:130px;
    border-radius:60% 60% 0 0 / 100% 100% 0 0;
    background:
        radial-gradient(120% 120% at 50% 0%, #c795ff33 0%, #b56cff22 30%, transparent 60%),
        radial-gradient(160% 90% at 50% 100%, #e1b7ff33 0%, #b56cff00 60%),
        #3e2a7a;
    box-shadow: 0 -6px 40px #6d29ff55, 0 -18px 60px #b56cff33 inset;
    border:1px solid #4a2a9a55;
    margin-top:8px; /* separa del último escalón */
}

/* ---------- PANEL LATERAL ---------- */
.roster{
    list-style:none; padding:0; margin:8px 0 0;
    display:flex; flex-direction:column; gap:10px;
}
.roster li{
    display:flex; align-items:center; justify-content:space-between; gap:8px;
    border:1px solid #2a2242; border-radius:12px; padding:10px 12px; background:#0e0b18;
}
.roster li > div:first-child strong{ font-size: clamp(14px, 1.2vw, 16px); }
.tag{font-size:12px; color:var(--muted)}
.controls{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap}
.iconbtn{
    background:transparent; border:1px solid #3a2e61; color:#dcd7ff; border-radius:8px;
    padding:6px 8px; cursor:pointer; font-weight:700;
}
.iconbtn:hover{background:#1a1431}

/* ---------- RESPONSIVE / ALTURAS BAJAS ---------- */
@media (max-height: 780px){
    .stage{ height: calc(100vh - 150px); }
    .steps{ padding-bottom: 180px; }
    .step{ min-height:58px; }
}
@media (max-height: 660px){
    .stage{ height: calc(100vh - 130px); }
    .steps{ padding-bottom: 150px; }
    .step{ min-height:52px; }
}

/* ---------- OPCIONAL: estilizar barras de scroll ---------- */
.steps::-webkit-scrollbar{ width:10px }
.steps::-webkit-scrollbar-thumb{
    background:#2e2452; border-radius:8px; border:2px solid #140f2b;
}
.steps{ scrollbar-width:thin; scrollbar-color:#2e2452 #140f2b; }